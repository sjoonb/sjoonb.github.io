---
layout: post
title:  "HTTP Architecture"
categories: network
date:  2022-12-01 22:03:02 +0900
---

- [웹 서버](#웹-서버)
- [프락시](#프락시)


<br/>
# 웹 서버

웹 서버는 [HTTP]({% post_url 2022-11-29-http %}) 및 그와 관련된 [TCP/IP]({% post_url 2022-11-29-tcp-ip %}) 처리를 구현한 것이다. HTTP 프로토콜을 구현하고, 웹 리소스를 관리하고, 웹 서버 관리 기능을 제공한다.

- Docroot <br/>
웹 서버는 여러 종류의 리소스 매핑을 지원하는데, 가장 단순한 형태는 요청 URI를 웹 서버의 파일 시스템 안에 있는 파일 이름으로 사용하는 것이다. 일반적으로 웹 서버에서 특별한 폴더를 웹 콘텐츠를 위한 공간으로 사용하는데, 이 폴더를 docroot 라고 부른다.

<br/>
# 프락시

**웹 프락시란?**

웹 프락시 서버는 클라이언트의 입장에서 트랜잭션을 수행하는 중개인이다. 웹 프락시가 있다면, 클라이언트는 HTTP 서버와 얘기하는 대신, 자신의 입장에서 서버와 대화해주는 프락시와 이야기한다.

**게이트웨이와의 차이?**

`게이트웨이`는 서로 다른 프로토콜을 사용하는 둘 이상의 애플리케이션을 연결하는 반면, 프락시는 같은 프로토콜을 사용하는 둘 이상의 애플리케이션을 연결한다. 

하지만, 실질적으로 둘의 차이점은 모호하다. 브라우저와 서버는 다른 버전의 HTTP를 구현하기 때문에, 프락시는 약간의 프로토콜 변환 기능을 수행하기도 한다. 게다가 상용 프락시는 `SSL 보안 프로토콜`, SOCKS 방화벽, FTP 접근등을 지원하기 위해 게이트웨이 기능을 구현한다.

**왜 프락시를 사용하는가?**

프락시 서버는 **실용적이고 유용한 여러가지 기능**을 구현할 수 있어, 다양한 용도로 사용될 수 있다. 대표적으로 요청이나 응답을 제한하는 `어린이 필터`, `문서 접근 제어`, `방화벽 서버`와, 네트워크 비용을 줄이도록 도와주는 `웹 캐시` 프락시, 웹 서버인 것처럼 위장하는 `Surrogate(대리, 리버스) proxy`, 이미지 변환, 압축, 번역등의 기능을 제공하는 `트랜스코딩` 프락시, HTTP 메시지에서 신원을 식별할 수 있는 특성들(IP, From, Referer, Cookie, URI Session ID 등)을 제거해 주는 `익명화 프락시` 등이 있다.


**프락시 서버 배치**

- Egress(출구) proxy <br/>
로컬네트워크의 출구에 박아 넣은 형태. 회사 밖의 악의적인 해커들을 막는 방화벽을 제공하거나, 인터넷 성능 개선을 위한 기능 구현, 어린이 필터 프락시 등이 해당된다.

- 입구 프락시 <br/>
    고객의 모든 요청을 종합적으로 처리하기 위해 프락시는 ISP 접근 지점에 위치하기도 한다. ISP는 사용자들의 다운로드 속도를 개선하고, 인터넷 대역폭 비용을 줄이기 위해 캐시 프락시를 사용해 많이 찾는 문서들의 사본을 저장한다.
    > ISP (internet service provider) is a company that provides individuals and organizations access to the internet and other related services.
    
    ISP란, 인터넷 인프라를 제공하는 회사라고 볼 수 있다.

- Surrogate(대리, 리버스) proxy <br/>
    네트워크 끝단의 서버 앞에 위치하여, 웹 서버로 향하는 모든 요청을 처리한다. 웹 서버에 보안 기능을 추가하거나, 캐시를 배치하여 성능을 개선할 수도 있다. 대리 프락시는 일반적으로 웹 서버의 이름과 IP 주소로 위장하기 때문에, 모든 요청은 서버가 아닌 이 프락시로 가게 된다.

- 네트워크 교환 프락시 <br/>
    캐시를 이용해 인터넷 교차로의 혼잡을 완화하고, 흐름을 감시하기 위해, 충분한 처리 능력을 갖춘 프락시가 네트워크 사이의 피어링 교환 지점들에 놓일 수 있다.